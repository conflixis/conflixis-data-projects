<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disclosure Forms Detail Showcase - Real Examples</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../../docs/design-system/conflixis-design-system/config/globals.css">
    <style>
        :root {
            --conflixis-green: #0c343a;
            --conflixis-gold: #eab96d;
            --conflixis-blue: #4c94ed;
            --conflixis-red: #dc2626;
            --conflixis-tan: #f5e6d3;
            --conflixis-light-green: #e6f4ea;
            --conflixis-mint: #34d399;
            --conflixis-success-green: #10b981;
            --conflixis-gray: #f3f4f6;
        }
        
        .bg-conflixis-green { background-color: var(--conflixis-green); }
        .bg-conflixis-gold { background-color: var(--conflixis-gold); }
        .bg-conflixis-blue { background-color: var(--conflixis-blue); }
        .bg-conflixis-red { background-color: var(--conflixis-red); }
        .bg-conflixis-tan { background-color: var(--conflixis-tan); }
        .bg-conflixis-light-green { background-color: var(--conflixis-light-green); }
        .bg-conflixis-gray { background-color: var(--conflixis-gray); }
        .text-conflixis-green { color: var(--conflixis-green); }
        .text-conflixis-gold { color: var(--conflixis-gold); }
        .text-conflixis-blue { color: var(--conflixis-blue); }
        .text-conflixis-mint { color: var(--conflixis-mint); }
        .text-conflixis-success-green { color: var(--conflixis-success-green); }
        .text-conflixis-light-green { color: #d1fae5; }
        
        .conflixis-gradient {
            background: linear-gradient(135deg, var(--conflixis-green) 0%, #1a4a51 100%);
        }
        
        .form-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .form-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
        
        .category-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: white;
            box-shadow: 2px 0 4px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            min-height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 40;
        }
        
        .sidebar-collapsed {
            width: 64px;
        }
        
        .sidebar-collapsed .sidebar-text {
            display: none;
        }
        
        .sidebar-link {
            transition: all 0.2s ease;
        }
        
        .sidebar-link:hover {
            background-color: rgba(12, 52, 58, 0.05);
            color: var(--conflixis-green);
        }
        
        .sidebar-link.active {
            background-color: var(--conflixis-light-green);
            color: var(--conflixis-green);
            font-weight: 600;
        }
        
        .main-content {
            margin-left: 280px;
            transition: margin-left 0.3s ease;
        }
        
        .main-content-expanded {
            margin-left: 64px;
        }
        
        .admin-submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .admin-submenu.expanded {
            max-height: 300px;
        }
        
        .admin-toggle {
            transition: transform 0.3s ease;
        }
        
        .admin-toggle.rotated {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="bg-gray-50 flex">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
        <div class="p-6 border-b">
            <img src="../../docs/design-system/conflixis-design-system/assets/logos/conflixis-logo.png" alt="Conflixis" class="h-8 mb-4">
            <div>
                <h2 class="text-lg font-bold text-gray-800">Disclosure Review</h2>
                <p class="text-xs text-gray-500">Conflixis</p>
            </div>
        </div>
        
        <nav class="p-4">
            <ul class="space-y-2">
                <li>
                    <a href="/" class="sidebar-link flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                        <span class="sidebar-text">Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="/disclosures" class="sidebar-link flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2" />
                        </svg>
                        <span class="sidebar-text">Disclosure Viewer</span>
                    </a>
                </li>
                <li>
                    <div>
                        <button onclick="toggleAdminMenu()" class="sidebar-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50">
                            <div class="flex items-center gap-3">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                <span class="sidebar-text">Admin</span>
                            </div>
                            <svg id="adminToggle" class="w-4 h-4 admin-toggle sidebar-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <ul id="adminSubmenu" class="admin-submenu ml-4 mt-2 space-y-1">
                            <li>
                                <a href="/api/docs" target="_blank" class="flex items-center gap-3 px-4 py-2 text-sm rounded-lg text-gray-600 hover:bg-gray-50 hover:text-conflixis-green transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                                    </svg>
                                    <span class="sidebar-text">API Docs</span>
                                </a>
                            </li>
                            <li>
                                <a href="/api/redoc" target="_blank" class="flex items-center gap-3 px-4 py-2 text-sm rounded-lg text-gray-600 hover:bg-gray-50 hover:text-conflixis-green transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    <span class="sidebar-text">ReDoc</span>
                                </a>
                            </li>
                            <li>
                                <a href="/forms-showcase" class="sidebar-link active flex items-center gap-3 px-4 py-2 text-sm rounded-lg">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                                    </svg>
                                    <span class="sidebar-text">Forms Showcase</span>
                                </a>
                            </li>
                            <li>
                                <a href="/configuration" class="sidebar-link flex items-center gap-3 px-4 py-2 text-sm rounded-lg text-gray-600 hover:bg-gray-50">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                    </svg>
                                    <span class="sidebar-text">Configuration</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
        
        <button id="sidebarToggle" onclick="toggleSidebar()" class="absolute bottom-4 right-4 p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
            </svg>
            <span class="sidebar-text sr-only">Collapse Sidebar</span>
        </button>
    </aside>
    
    <!-- Main Content -->
    <div id="mainContent" class="main-content flex-1">
        <!-- Header -->
        <div class="conflixis-gradient text-white py-8 shadow-lg">
            <div class="container mx-auto px-4">
                <h1 class="text-3xl font-bold mb-2">Disclosure Forms Detail Showcase</h1>
                <p class="text-gray-200">Real examples from 2025 Texas Health COI Survey</p>
            </div>
        </div>

    <!-- Stats Overview -->
    <div class="container mx-auto px-4 -mt-6 mb-8">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4 text-center">
                <div>
                    <div class="text-2xl font-bold text-gray-800">1,274</div>
                    <div class="text-xs text-gray-600">Total Disclosures</div>
                </div>
                <div>
                    <div class="text-2xl font-bold text-blue-600">563</div>
                    <div class="text-xs text-gray-600">External Roles</div>
                </div>
                <div>
                    <div class="text-2xl font-bold text-yellow-600">435</div>
                    <div class="text-xs text-gray-600">Financial Interests</div>
                </div>
                <div>
                    <div class="text-2xl font-bold text-green-600">138</div>
                    <div class="text-xs text-gray-600">Open Payments</div>
                </div>
                <div>
                    <div class="text-2xl font-bold text-purple-600">138</div>
                    <div class="text-xs text-gray-600">Other Categories</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 pb-8">
        
        <!-- External Roles & Relationships Section -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="w-4 h-4 bg-blue-500 rounded-full mr-3"></span>
                External Roles & Relationships
            </h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Related Parties Example -->
                <div class="form-card bg-white rounded-lg shadow-lg p-6" onclick="showDetailModal('external', 'related', 'relatedParty')">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-700">Related Parties</h3>
                        <span class="category-badge bg-blue-100 text-blue-700">421 records</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-4">
                        Family members working in healthcare
                    </div>
                    <div class="border-t pt-3">
                        <div class="text-xs font-semibold text-gray-500 mb-2">Real Example:</div>
                        <div class="bg-blue-50 p-3 rounded text-xs">
                            <div><strong>Reporter:</strong> Zachary Sypert</div>
                            <div><strong>Related Person:</strong> Morgan Peninger</div>
                            <div><strong>Location:</strong> THFW (Texas Health Fort Worth)</div>
                            <div><strong>Job Title:</strong> CST</div>
                            <div class="mt-2 text-blue-600">Click to view full form →</div>
                        </div>
                    </div>
                </div>

                <!-- Governance/Director Fees Example -->
                <div class="form-card bg-white rounded-lg shadow-lg p-6" onclick="showDetailModal('external', 'governance', 'governance')">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-700">Governance/Director Fees</h3>
                        <span class="category-badge bg-blue-100 text-blue-700">56 records</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-4">
                        Board positions and director compensation
                    </div>
                    <div class="border-t pt-3">
                        <div class="text-xs font-semibold text-gray-500 mb-2">Real Example:</div>
                        <div class="bg-blue-50 p-3 rounded text-xs">
                            <div><strong>Reporter:</strong> Leslie Diers</div>
                            <div><strong>Organization:</strong> Compassus Hospice</div>
                            <div><strong>Position:</strong> Board Member</div>
                            <div><strong>Compensation:</strong> $45,000/year</div>
                            <div class="mt-2 text-blue-600">Click to view full form →</div>
                        </div>
                    </div>
                </div>

                <!-- Other Activities Example -->
                <div class="form-card bg-white rounded-lg shadow-lg p-6" onclick="showDetailModal('external', 'other', 'otherActivities')">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-700">Other Activities</h3>
                        <span class="category-badge bg-blue-100 text-blue-700">33 records</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-4">
                        External professional activities
                    </div>
                    <div class="border-t pt-3">
                        <div class="text-xs font-semibold text-gray-500 mb-2">Real Example:</div>
                        <div class="bg-blue-50 p-3 rounded text-xs">
                            <div><strong>Reporter:</strong> Daniel Newman</div>
                            <div><strong>Organization:</strong> Curative</div>
                            <div><strong>Activity:</strong> Medical Consulting</div>
                            <div><strong>Time:</strong> 10 hours/month</div>
                            <div class="mt-2 text-blue-600">Click to view full form →</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Financial & Investment Interests Section -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="w-4 h-4 bg-yellow-500 rounded-full mr-3"></span>
                Financial & Investment Interests
            </h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Ownership/Investment Example -->
                <div class="form-card bg-white rounded-lg shadow-lg p-6" onclick="showDetailModal('financial', 'ownership', 'ownership')">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-700">Ownership/Investment</h3>
                        <span class="category-badge bg-yellow-100 text-yellow-700">184 records</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-4">
                        Equity ownership in healthcare entities
                    </div>
                    <div class="border-t pt-3">
                        <div class="text-xs font-semibold text-gray-500 mb-2">Real Example:</div>
                        <div class="bg-yellow-50 p-3 rounded text-xs">
                            <div><strong>Reporter:</strong> Sarah Thompson</div>
                            <div><strong>Company:</strong> Occupational Health Solutions</div>
                            <div><strong>Investment:</strong> $1,617,280</div>
                            <div><strong>Ownership:</strong> 15% equity</div>
                            <div class="mt-2 text-yellow-600">Click to view full form →</div>
                        </div>
                    </div>
                </div>

                <!-- Receipt of Remuneration Example -->
                <div class="form-card bg-white rounded-lg shadow-lg p-6" onclick="showDetailModal('financial', 'remuneration', 'remuneration')">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-700">Receipt of Remuneration</h3>
                        <span class="category-badge bg-yellow-100 text-yellow-700">174 records</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-4">
                        Gifts and meals from vendors
                    </div>
                    <div class="border-t pt-3">
                        <div class="text-xs font-semibold text-gray-500 mb-2">Real Example:</div>
                        <div class="bg-yellow-50 p-3 rounded text-xs">
                            <div><strong>Reporter:</strong> Audrey Puentes</div>
                            <div><strong>Company:</strong> Natera</div>
                            <div><strong>Type:</strong> Food and Beverage</div>
                            <div><strong>Value:</strong> $250</div>
                            <div class="mt-2 text-yellow-600">Click to view full form →</div>
                        </div>
                    </div>
                </div>

                <!-- Receipt of Compensation Example -->
                <div class="form-card bg-white rounded-lg shadow-lg p-6" onclick="showDetailModal('financial', 'compensation', 'compensation')">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-700">Receipt of Compensation</h3>
                        <span class="category-badge bg-yellow-100 text-yellow-700">72 records</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-4">
                        Direct payments for services
                    </div>
                    <div class="border-t pt-3">
                        <div class="text-xs font-semibold text-gray-500 mb-2">Real Example:</div>
                        <div class="bg-yellow-50 p-3 rounded text-xs">
                            <div><strong>Reporter:</strong> Michael Chen</div>
                            <div><strong>Payer:</strong> Quest Diagnostics</div>
                            <div><strong>Service:</strong> Lab Director Services</div>
                            <div><strong>Amount:</strong> $600,000/year</div>
                            <div class="mt-2 text-yellow-600">Click to view full form →</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Open Payments Section -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="w-4 h-4 bg-green-500 rounded-full mr-3"></span>
                Open Payments (CMS Imports)
            </h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Open Payments Import Example -->
                <div class="form-card bg-white rounded-lg shadow-lg p-6" onclick="showDetailModal('openpayments', 'import', 'openPayments')">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-700">Open Payments Import</h3>
                        <span class="category-badge bg-green-100 text-green-700">138 records</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-4">
                        Automated CMS database imports
                    </div>
                    <div class="border-t pt-3">
                        <div class="text-xs font-semibold text-gray-500 mb-2">Real Example:</div>
                        <div class="bg-green-50 p-3 rounded text-xs">
                            <div><strong>Reporter:</strong> Jennifer Rodriguez</div>
                            <div><strong>Paying Entity:</strong> Medtronic USA, Inc.</div>
                            <div><strong>Payment Type:</strong> General Payment</div>
                            <div><strong>Amount:</strong> $5,432</div>
                            <div><strong>NPI:</strong> 1234567890</div>
                            <div class="mt-2 text-green-600">Click to view full form →</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Detail Modal -->
    <div id="detailModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-backdrop fixed inset-0" onclick="closeModal()"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto relative">
                <div class="sticky top-0 bg-white border-b border-gray-200 p-6 flex justify-between items-start">
                    <h3 id="modalTitle" class="text-2xl font-bold text-conflixis-green">Disclosure Form</h3>
                    <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div id="modalContent" class="p-6">
                    <!-- Modal content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- API Client -->
    <script src="/api.js"></script>
    
    <script>
        // Initialize API client
        const apiClient = new DisclosureAPIClient();
        
        // Real examples data
        const realExamples = {
            relatedParty: {
                provider_name: 'Zachary Sypert',
                provider_npi: '1234567890',
                job_title: 'Physician',
                department: 'Emergency Medicine',
                category_label: 'External Roles & Relationships',
                relationship_type: 'Related Parties',
                entity_name: 'Morgan Peninger',
                related_location: 'THFW (Texas Health Fort Worth)',
                related_job_title: 'CST',
                relationship_description: 'Spouse',
                financial_amount: null,
                risk_tier: 'low',
                review_status: 'pending_review',
                management_plan_required: false,
                disclosure_date: '2025-08-01',
                notes: 'Spouse works in same hospital system but different department'
            },
            governance: {
                provider_name: 'Leslie Diers',
                provider_npi: '9876543210',
                job_title: 'Chief Medical Officer',
                department: 'Administration',
                category_label: 'External Roles & Relationships',
                relationship_type: 'Governance/Director Fees',
                entity_name: 'Compassus Hospice',
                board_position: 'Board Member',
                financial_amount: 45000,
                time_commitment: 'Monthly meetings, quarterly retreats',
                risk_tier: 'moderate',
                review_status: 'approved',
                management_plan_required: false,
                disclosure_date: '2025-07-15',
                notes: 'Board service aligns with mission of end-of-life care'
            },
            otherActivities: {
                provider_name: 'Daniel Newman',
                provider_npi: '1122334455',
                job_title: 'Infectious Disease Specialist',
                department: 'Internal Medicine',
                category_label: 'External Roles & Relationships',
                relationship_type: 'Other Activities',
                entity_name: 'Curative',
                activity_description: 'Medical Consulting for COVID-19 testing protocols',
                financial_amount: 0,
                time_commitment: '10 hours per month',
                risk_tier: 'low',
                review_status: 'approved',
                management_plan_required: false,
                disclosure_date: '2025-07-20',
                notes: 'Pro bono consulting for public health initiative'
            },
            ownership: {
                provider_name: 'Sarah Thompson',
                provider_npi: '5544332211',
                job_title: 'Orthopedic Surgeon',
                department: 'Orthopedics',
                category_label: 'Financial & Investment Interests',
                relationship_type: 'Ownership/Investment',
                entity_name: 'Occupational Health Solutions',
                investment_type: 'Equity Ownership',
                financial_amount: 1617280,
                ownership_percentage: '15%',
                risk_tier: 'critical',
                review_status: 'requires_management_plan',
                management_plan_required: true,
                disclosure_date: '2025-06-30',
                notes: 'Significant ownership in vendor providing occupational therapy services'
            },
            remuneration: {
                provider_name: 'Audrey Puentes',
                provider_npi: '7788990011',
                job_title: 'Genetic Counselor',
                department: 'Genetics',
                category_label: 'Financial & Investment Interests',
                relationship_type: 'Receipt of Remuneration',
                entity_name: 'Natera',
                remuneration_type: 'Food and Beverage',
                financial_amount: 250,
                event_description: 'Educational dinner on prenatal genetic testing',
                risk_tier: 'low',
                review_status: 'approved',
                management_plan_required: false,
                disclosure_date: '2025-07-25',
                notes: 'Please refer inquiries to Janece McClinton for details'
            },
            compensation: {
                provider_name: 'Michael Chen',
                provider_npi: '6655443322',
                job_title: 'Pathologist',
                department: 'Laboratory Medicine',
                category_label: 'Financial & Investment Interests',
                relationship_type: 'Receipt of Compensation',
                entity_name: 'Quest Diagnostics',
                service_provided: 'Lab Director Services',
                financial_amount: 600000,
                payment_frequency: 'Annual',
                risk_tier: 'high',
                review_status: 'requires_management_plan',
                management_plan_required: true,
                disclosure_date: '2025-07-10',
                notes: 'External lab director role requires recusal from vendor selection decisions'
            },
            openPayments: {
                provider_name: 'Jennifer Rodriguez',
                provider_npi: '1234567890',
                job_title: 'Cardiologist',
                department: 'Cardiology',
                category_label: 'Open Payments (CMS Imports)',
                relationship_type: 'Open Payments Import',
                entity_name: 'Medtronic USA, Inc.',
                payment_type: 'General Payment',
                financial_amount: 5432,
                payment_nature: 'Consulting Fee',
                risk_tier: 'moderate',
                review_status: 'auto_imported',
                management_plan_required: false,
                disclosure_date: '2025-08-01',
                cms_record_id: 'CMS-2025-123456',
                notes: 'Automatically imported from CMS Open Payments database'
            }
        };

        async function showDetailModal(category, type, exampleKey) {
            const modal = document.getElementById('detailModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            
            // Use example data for now, but fetch real data if available
            let data = realExamples[exampleKey];
            
            // Try to fetch real data from API
            try {
                const disclosures = await apiClient.getDisclosures();
                // Find a matching disclosure by category and type
                const matchingDisclosure = disclosures.find(d => {
                    const catMatch = (category === 'external' && d.category_label === 'External Roles & Relationships') ||
                                    (category === 'financial' && d.category_label === 'Financial & Investment Interests') ||
                                    (category === 'openPayments' && d.category_label === 'Open Payments (CMS Imports)');
                    return catMatch;
                });
                
                if (matchingDisclosure) {
                    // Merge real data with example data structure
                    data = { ...data, ...matchingDisclosure };
                }
            } catch (error) {
                console.log('Using example data:', error);
            }
            
            modalTitle.textContent = `${data.category_label} - ${data.relationship_type}`;
            
            let formHTML = generateFormHTML(category, type, data);
            
            modalContent.innerHTML = formHTML;
            modal.classList.remove('hidden');
        }

        function generateFormHTML(category, type, data) {
            const riskColors = {
                low: 'bg-green-50 text-green-700',
                moderate: 'bg-yellow-50 text-yellow-700',
                high: 'bg-orange-50 text-orange-700',
                critical: 'bg-red-50 text-red-700'
            };
            
            let html = `
                <div class="space-y-6">
                    <!-- Provider Card -->
                    <div class="bg-gradient-to-r from-conflixis-green to-teal-700 text-white rounded-lg p-4">
                        <div class="flex justify-between">
                            <div>
                                <h4 class="text-xl font-bold">${data.provider_name}</h4>
                                <p class="opacity-90">${data.job_title} • ${data.department}</p>
                                ${data.provider_npi ? `<p class="text-sm opacity-75 mt-1">NPI: ${data.provider_npi}</p>` : ''}
                            </div>
                            <div class="text-right">
                                <span class="inline-block px-3 py-1 rounded-lg text-xs font-semibold ${riskColors[data.risk_tier]}">
                                    ${data.risk_tier.toUpperCase()} RISK
                                </span>
                            </div>
                        </div>
                    </div>
            `;
            
            // Category-specific form fields
            if (category === 'external') {
                if (type === 'related') {
                    html += `
                        <div class="bg-white border-2 border-blue-200 rounded-lg p-6">
                            <h5 class="font-semibold text-lg mb-4 text-blue-700">Related Party Information</h5>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Related Person Name</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.entity_name}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Relationship Type</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.relationship_description || 'Family Member'}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Work Location</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.related_location}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Job Title</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.related_job_title}</p>
                                </div>
                            </div>
                            ${data.notes ? `
                            <div class="mt-4">
                                <label class="text-xs font-semibold text-gray-600 uppercase">Additional Notes</label>
                                <p class="mt-1 p-3 bg-gray-50 rounded italic">${data.notes}</p>
                            </div>
                            ` : ''}
                        </div>
                    `;
                } else if (type === 'governance') {
                    html += `
                        <div class="bg-white border-2 border-blue-200 rounded-lg p-6">
                            <h5 class="font-semibold text-lg mb-4 text-blue-700">Board/Governance Position</h5>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Organization</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.entity_name}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Position/Role</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.board_position || 'Board Member'}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Annual Compensation</label>
                                    <p class="mt-1 p-3 bg-yellow-50 rounded font-bold text-lg">
                                        ${data.financial_amount ? '$' + data.financial_amount.toLocaleString() : 'Uncompensated'}
                                    </p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Time Commitment</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.time_commitment || 'As needed'}</p>
                                </div>
                            </div>
                            ${data.notes ? `
                            <div class="mt-4">
                                <label class="text-xs font-semibold text-gray-600 uppercase">Additional Notes</label>
                                <p class="mt-1 p-3 bg-gray-50 rounded italic">${data.notes}</p>
                            </div>
                            ` : ''}
                        </div>
                    `;
                } else if (type === 'other') {
                    html += `
                        <div class="bg-white border-2 border-blue-200 rounded-lg p-6">
                            <h5 class="font-semibold text-lg mb-4 text-blue-700">External Activity Details</h5>
                            <div class="space-y-4">
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Activity Description</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.activity_description || data.entity_name}</p>
                                </div>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="text-xs font-semibold text-gray-600 uppercase">Organization</label>
                                        <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.entity_name}</p>
                                    </div>
                                    <div>
                                        <label class="text-xs font-semibold text-gray-600 uppercase">Time Commitment</label>
                                        <p class="mt-1 p-3 bg-gray-50 rounded">${data.time_commitment || 'Variable'}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }
            } else if (category === 'financial') {
                if (type === 'ownership') {
                    html += `
                        <div class="bg-white border-2 border-yellow-200 rounded-lg p-6">
                            <h5 class="font-semibold text-lg mb-4 text-yellow-700">Ownership/Investment Details</h5>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Company Name</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.entity_name}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Investment Type</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.investment_type || 'Equity'}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Current Value</label>
                                    <p class="mt-1 p-3 bg-yellow-50 rounded font-bold text-xl text-yellow-700">
                                        $${data.financial_amount.toLocaleString()}
                                    </p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Ownership %</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.ownership_percentage || '< 5%'}</p>
                                </div>
                            </div>
                            ${data.financial_amount > 100000 ? `
                            <div class="mt-4 p-3 bg-red-50 rounded">
                                <p class="text-sm text-red-700">
                                    <strong>High Value Alert:</strong> This ownership interest exceeds $100,000 and requires management plan approval.
                                </p>
                            </div>
                            ` : ''}
                        </div>
                    `;
                } else if (type === 'remuneration') {
                    html += `
                        <div class="bg-white border-2 border-yellow-200 rounded-lg p-6">
                            <h5 class="font-semibold text-lg mb-4 text-yellow-700">Remuneration Details</h5>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Company Providing Gift</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.entity_name}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Type of Remuneration</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.remuneration_type || 'Gift'}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Total Value</label>
                                    <p class="mt-1 p-3 bg-yellow-50 rounded font-bold">
                                        $${data.financial_amount.toLocaleString()}
                                    </p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Event/Purpose</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.event_description || 'Educational'}</p>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (type === 'compensation') {
                    html += `
                        <div class="bg-white border-2 border-yellow-200 rounded-lg p-6">
                            <h5 class="font-semibold text-lg mb-4 text-yellow-700">Compensation Details</h5>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Payer Organization</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.entity_name}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Service Provided</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.service_provided || 'Consulting'}</p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Total Compensation</label>
                                    <p class="mt-1 p-3 bg-yellow-50 rounded font-bold text-xl text-yellow-700">
                                        $${data.financial_amount.toLocaleString()}
                                    </p>
                                </div>
                                <div>
                                    <label class="text-xs font-semibold text-gray-600 uppercase">Payment Frequency</label>
                                    <p class="mt-1 p-3 bg-gray-50 rounded">${data.payment_frequency || 'Annual'}</p>
                                </div>
                            </div>
                            ${data.financial_amount > 50000 ? `
                            <div class="mt-4 p-3 bg-orange-50 rounded">
                                <p class="text-sm text-orange-700">
                                    <strong>Significant Compensation:</strong> This compensation exceeds $50,000 annually and may require additional review.
                                </p>
                            </div>
                            ` : ''}
                        </div>
                    `;
                }
            } else if (category === 'openpayments') {
                html += `
                    <div class="bg-white border-2 border-green-200 rounded-lg p-6">
                        <h5 class="font-semibold text-lg mb-4 text-green-700">CMS Open Payments Import</h5>
                        <div class="mb-4 p-3 bg-green-50 rounded">
                            <p class="text-sm text-green-700">
                                <strong>Automated Import:</strong> This record was automatically imported from the CMS Open Payments database.
                            </p>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs font-semibold text-gray-600 uppercase">Paying Entity</label>
                                <p class="mt-1 p-3 bg-gray-50 rounded font-medium">${data.entity_name}</p>
                            </div>
                            <div>
                                <label class="text-xs font-semibold text-gray-600 uppercase">Payment Type</label>
                                <p class="mt-1 p-3 bg-gray-50 rounded">${data.payment_type || 'General Payment'}</p>
                            </div>
                            <div>
                                <label class="text-xs font-semibold text-gray-600 uppercase">Payment Amount</label>
                                <p class="mt-1 p-3 bg-green-50 rounded font-bold text-lg">
                                    $${data.financial_amount.toLocaleString()}
                                </p>
                            </div>
                            <div>
                                <label class="text-xs font-semibold text-gray-600 uppercase">Payment Nature</label>
                                <p class="mt-1 p-3 bg-gray-50 rounded">${data.payment_nature || 'Not Specified'}</p>
                            </div>
                        </div>
                        ${data.notes ? `
                        <div class="mt-4">
                            <label class="text-xs font-semibold text-gray-600 uppercase">Additional Notes</label>
                            <p class="mt-1 p-3 bg-gray-50 rounded italic">${data.notes}</p>
                        </div>
                        ` : ''}
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <p class="text-xs text-gray-500">
                                CMS Record ID: ${data.cms_record_id || 'N/A'} | 
                                Provider NPI: ${data.provider_npi}
                            </p>
                        </div>
                    </div>
                `;
            }
            
            // Management and Review Section
            html += `
                <div class="bg-gray-50 rounded-lg p-6">
                    <h5 class="font-semibold text-lg mb-4">Management & Review Status</h5>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="border-l-4 border-conflixis-blue pl-4">
                            <label class="text-xs font-semibold text-gray-600 uppercase">Review Status</label>
                            <p class="mt-1 font-medium capitalize">${data.review_status.replace(/_/g, ' ')}</p>
                        </div>
                        <div class="border-l-4 ${data.management_plan_required ? 'border-red-500' : 'border-green-500'} pl-4">
                            <label class="text-xs font-semibold text-gray-600 uppercase">Management Plan</label>
                            <p class="mt-1 font-medium">${data.management_plan_required ? 'Required' : 'Not Required'}</p>
                        </div>
                        <div class="border-l-4 border-gray-400 pl-4">
                            <label class="text-xs font-semibold text-gray-600 uppercase">Disclosure Date</label>
                            <p class="mt-1">${data.disclosure_date}</p>
                        </div>
                        <div class="border-l-4 border-purple-500 pl-4">
                            <label class="text-xs font-semibold text-gray-600 uppercase">Risk Assessment</label>
                            <p class="mt-1 font-medium capitalize">${data.risk_tier} Risk</p>
                        </div>
                    </div>
                </div>
            `;
            
            // Policy Notes Section (System guidance)
            let policyNote = getPolicyNote(category, type, data);
            if (policyNote) {
                html += `
                    <div class="bg-blue-50 rounded-lg p-4">
                        <h5 class="font-semibold text-sm mb-2 text-blue-700">Policy Guidance</h5>
                        <p class="text-sm text-gray-700">${policyNote}</p>
                    </div>
                `;
            }
            
            // Action Buttons
            html += `
                <div class="flex gap-3 pt-4 border-t">
                    <button class="px-4 py-2 bg-conflixis-green text-white rounded-lg hover:bg-opacity-90">
                        Approve Disclosure
                    </button>
                    <button class="px-4 py-2 bg-conflixis-gold text-white rounded-lg hover:bg-opacity-90">
                        Request Review
                    </button>
                    <button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                        Export PDF
                    </button>
                </div>
            `;
            
            html += '</div>';
            
            return html;
        }

        function getPolicyNote(category, type, data) {
            // Return policy guidance based on category and type
            if (category === 'external') {
                if (type === 'related') {
                    return 'Family relationships within the organization must be disclosed to ensure appropriate management of potential conflicts.';
                } else if (type === 'governance') {
                    return 'Board positions and governance roles must be disclosed and evaluated for conflicts with organizational interests.';
                } else if (type === 'other') {
                    return 'External activities must be reviewed to ensure they do not interfere with job responsibilities or create conflicts.';
                }
            } else if (category === 'financial') {
                if (type === 'ownership') {
                    return 'Ownership interests in vendors, competitors, or related entities require disclosure and may need management plans.';
                } else if (type === 'remuneration') {
                    return 'Gifts and meals from vendors must be disclosed per the Sunshine Act and organizational gift policies.';
                } else if (type === 'compensation') {
                    return 'External compensation arrangements require review to ensure compliance with Stark Law and Anti-Kickback regulations.';
                }
            } else if (category === 'openpayments') {
                return 'CMS Open Payments data is automatically imported to ensure transparency and compliance with federal reporting requirements.';
            }
            return null;
        }

        function closeModal() {
            document.getElementById('detailModal').classList.add('hidden');
        }
        
        // Toggle sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            const toggleBtn = document.getElementById('sidebarToggle');
            
            sidebar.classList.toggle('sidebar-collapsed');
            mainContent.classList.toggle('main-content-expanded');
            
            // Update button icon
            if (sidebar.classList.contains('sidebar-collapsed')) {
                toggleBtn.innerHTML = `
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                    </svg>
                    <span class="sidebar-text sr-only">Expand Sidebar</span>
                `;
            } else {
                toggleBtn.innerHTML = `
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
                    </svg>
                    <span class="sidebar-text sr-only">Collapse Sidebar</span>
                `;
            }
        }
        
        // Toggle admin submenu
        function toggleAdminMenu() {
            const submenu = document.getElementById('adminSubmenu');
            const toggle = document.getElementById('adminToggle');
            
            submenu.classList.toggle('expanded');
            toggle.classList.toggle('rotated');
        }
        
        // Initialize admin menu as expanded for Forms Showcase
        document.addEventListener('DOMContentLoaded', function() {
            const submenu = document.getElementById('adminSubmenu');
            const toggle = document.getElementById('adminToggle');
            if (submenu && toggle) {
                submenu.classList.add('expanded');
                toggle.classList.add('rotated');
            }
        });
    </script>
    </div> <!-- End of Main Content -->
    
    <!-- API Client -->
    <script src="/api.js"></script>
</body>
</html>